{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","src/pages/Nope.ts","src/components/render.ts","src/features/cart.ts","src/pages/Cart.ts","src/components/store.ts","src/components/Router.ts","src/components/Routes.ts","node_modules/@parcel/runtime-js/lib/runtime-fd03351a2faae3ef.js","node_modules/@parcel/runtime-js/lib/runtime-01d085a28c31f7f3.js","node_modules/@parcel/runtime-js/lib/runtime-f3ad405aba58fac8.js","node_modules/@parcel/runtime-js/lib/runtime-998da71027436d52.js","node_modules/@parcel/runtime-js/lib/runtime-9def6464f4c1eadd.js","node_modules/@parcel/runtime-js/lib/runtime-6f5df312da56292e.js","node_modules/@parcel/runtime-js/lib/runtime-12127860bacf528a.js","src/features/search.ts","src/components/Product.ts","node_modules/@parcel/runtime-js/lib/runtime-c9715ca04e04bbd8.js","src/App.ts","src/features/theme.ts","src/features/hamburger.ts"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","import render from \"../components/render\"\r\n\r\nexport default function Nope(id: string, prop?: string | number) {\r\n  document.title = \"404\"\r\n  switch (id) {\r\n    case \"badID\":\r\n      render({\r\n        component: `<h1>404</h1><h2>Sorry buddy, but I don't think we have a product with id #${prop}.</h2>`,\r\n      })\r\n      break\r\n    case \"badFetch\":\r\n      render({\r\n        component: `<h1>404</h1><h2>Dang, either the server is down or someone misspelled a URL. Whatever it is, it's probably Jesse's fault.</h2>`,\r\n      })\r\n      break\r\n    case \"error\":\r\n      render({ component: `<h1>That's Weird!</h1><h4>${prop}</h4>` })\r\n      break\r\n    default:\r\n      render({\r\n        component: `<h1>404</h1><h2>Huh, you're at ${location.pathname}, but you really shouldn't be... ðŸ¤” </h2>`,\r\n      })\r\n  }\r\n}\r\n","import { addToCart, removeFromCart } from \"../features/cart\"\r\nimport { getProducts } from \"./store\"\r\nimport { main } from \"./Router\"\r\nimport Nope from \"../pages/Nope\"\r\n\r\nimport type { Product, FancyButton } from \"../types\"\r\n\r\ninterface RenderProps {\r\n  component: string\r\n  callback?: () => void\r\n}\r\n\r\nexport default function render({ component, callback }: RenderProps) {\r\n  addOldActiveClass()\r\n  transitionHelper({\r\n    updateDOM: () => {\r\n      if (!main) throw new Error(\"No main element found\")\r\n      if (!component) Nope(\"error\", \"No component provided\")\r\n      main.innerHTML = component\r\n      main.scrollTop = 0\r\n      addNewActiveClass()\r\n      if (callback) callback()\r\n    },\r\n  })\r\n}\r\n\r\nexport async function buttonFinderAdd() {\r\n  const products = await getProducts()\r\n\r\n  const buttons: FancyButton[] = Array.from(\r\n    document.querySelectorAll(\".add-to-cart\")\r\n  )\r\n  buttons.forEach((button) => {\r\n    if (button.alreadyAdded) return\r\n    button.alreadyAdded = true\r\n    button.addEventListener(\"click\", (e) => {\r\n      const target = e.target as FancyButton\r\n      const id = target.id\r\n      const product = products.find(\r\n        (product: Product) => product.id === Number(id)\r\n      )\r\n      if (!product) {\r\n        Nope(\"badID\", id)\r\n        return\r\n      }\r\n      addToCart(product)\r\n    })\r\n  })\r\n}\r\n\r\nexport async function buttonFinderRemove() {\r\n  const products = await getProducts()\r\n  const buttons: FancyButton[] = Array.from(\r\n    document.querySelectorAll(\".remove-from-cart\")\r\n  )\r\n  buttons.forEach((button) => {\r\n    if (button.alreadyAdded) return\r\n    button.alreadyAdded = true\r\n    button.addEventListener(\"click\", (e) => {\r\n      const target = e.target\r\n      if (!target || !isFancyButton(target)) return\r\n      const id = target.id\r\n      const product = products.find((product) => product.id === Number(id))\r\n      if (!product) {\r\n        Nope(\"badID\", id)\r\n        return\r\n      }\r\n      removeFromCart(product)\r\n    })\r\n  })\r\n}\r\n\r\nfunction isFancyButton(target: EventTarget): target is FancyButton {\r\n  return \"alreadyAdded\" in target\r\n}\r\n\r\nfunction transitionHelper({\r\n  skipTransition = false,\r\n  classNames = [],\r\n  updateDOM = () => {},\r\n}) {\r\n  if (skipTransition || !document.startViewTransition) {\r\n    const updateCallbackDone = Promise.resolve(updateDOM())\r\n\r\n    return {\r\n      ready: Promise.reject(Error(\"View transitions unsupported\")),\r\n      updateCallbackDone,\r\n      finished: updateCallbackDone,\r\n    }\r\n  }\r\n  const transition = document.startViewTransition(updateDOM)\r\n\r\n  // transition.finished.finally(() => {\r\n  //   removeActiveClass()\r\n  // })\r\n\r\n  return transition\r\n}\r\n\r\nlet clickedImage = false\r\nlet oldImage = null as HTMLImageElement | null\r\n\r\ndocument.addEventListener(\"click\", (e) => {\r\n  const element = e.target as HTMLElement\r\n  if (\r\n    element.tagName === \"IMG\" ||\r\n    element.parentNode instanceof HTMLAnchorElement\r\n  ) {\r\n    clickedImage = true\r\n    if (element.tagName === \"IMG\") {\r\n      oldImage = element as HTMLImageElement\r\n    } else {\r\n      const image = element.parentNode?.querySelector(\"img\")\r\n      if (image) oldImage = image as HTMLImageElement\r\n    }\r\n  } else {\r\n    clickedImage = false\r\n  }\r\n})\r\n\r\nfunction addOldActiveClass() {\r\n  if (!clickedImage || !oldImage) return\r\n  oldImage.style.viewTransitionName = \"activeImage\"\r\n}\r\n\r\nfunction addNewActiveClass() {\r\n  if (!clickedImage) return\r\n  const newImage = document.querySelector(\"img\")\r\n  if (newImage) {\r\n    newImage.classList.add(\"activeImage\")\r\n    newImage.style.viewTransitionName = \"activeImage\"\r\n  }\r\n}\r\n","import Cart from \"../pages/Cart\"\r\nimport type { Cart as ICart, CartItem, Product } from \"../types\"\r\n\r\nexport let cart: ICart = JSON.parse(localStorage.getItem(\"cart\") || \"{}\")\r\n\r\nexport default function updateCart() {\r\n  const cartCount = document.querySelector(\"#cart-count\") as HTMLSpanElement\r\n  const cartAmount = document.querySelector(\"#cart-total\") as HTMLSpanElement\r\n  if (!cartCount || !cartAmount) {\r\n    throw new Error(\"No cart count or cart amount found\")\r\n  }\r\n  cartCount.innerText = Object.keys(cart).length.toString()\r\n  cartAmount.innerText =\r\n    \"$\" +\r\n    Object.values(cart)\r\n      .map((item: CartItem) => item.product.price * item.quantity)\r\n      .reduce((a, b) => a + b, 0)\r\n      .toFixed(2)\r\n}\r\n\r\nexport function addToCart(product: Product) {\r\n  if (cart[product.id]) {\r\n    cart[product.id].quantity++\r\n  } else {\r\n    cart[product.id] = {\r\n      quantity: 1,\r\n      product,\r\n    }\r\n  }\r\n  localStorage.setItem(\"cart\", JSON.stringify(cart))\r\n  alert(`${product.title} added to cart!`)\r\n  updateCart()\r\n}\r\n\r\nexport function removeFromCart(product: Product) {\r\n  cart[product.id].quantity--\r\n  if (cart[product.id].quantity === 0) {\r\n    delete cart[product.id]\r\n  }\r\n  localStorage.setItem(\"cart\", JSON.stringify(cart))\r\n  alert(`${product.title} removed from cart!`)\r\n  updateCart()\r\n  Cart()\r\n}\r\n","import { getProducts } from \"../components/store\"\r\nimport render, { buttonFinderRemove } from \"../components/render\"\r\nimport Nope from \"./Nope\"\r\n\r\nexport default async function Cart() {\r\n  const cart = JSON.parse(localStorage.getItem(\"cart\") || \"{}\")\r\n  document.title = \"Cart\"\r\n  const products = await getProducts()\r\n  if (Object.keys(cart).length === 0) {\r\n    render({\r\n      component: `\r\n          <h1>Cart</h1>\r\n          <p>Your cart is empty. Go buy some weird stuff!</p>\r\n          `,\r\n    })\r\n  } else {\r\n    const cartItems = Object.keys(cart).map((id) => {\r\n      const product = products.find((product) => product.id === Number(id))\r\n      if (!product) return Nope(\"badID\", id)\r\n      return `\r\n            <div class=\"product\">\r\n              <img src=\"${product?.thumbnail}\" alt=\"${product?.title}\" />\r\n              <h2>${product?.title}</h2>\r\n              <p>$${product?.price}</p>\r\n              <p>Quantity: ${cart[id].quantity}</p>\r\n              <button class=\"remove-from-cart\" id=\"${product?.id}\">Remove from cart</button>\r\n            </div>\r\n            `\r\n    })\r\n    render({\r\n      component: `\r\n          <h1>Cart</h1>\r\n          ${cartItems.join(\"\")}\r\n          `,\r\n      callback: buttonFinderRemove,\r\n    })\r\n  }\r\n}\r\n","import Nope from \"../pages/Nope\"\r\nimport { Product } from \"../types\"\r\n\r\nlet products: Product[] = []\r\n\r\nconst db = async () => {\r\n  const response = await fetch(\"https://dummyjson.com/products\")\r\n\r\n  if (!response.ok) {\r\n    alert(\"HTTP-Error: \" + response.status)\r\n    console.error(response)\r\n    return Nope(\"badFetch\", response.status)\r\n  }\r\n\r\n  const data = await response.json()\r\n\r\n  return data\r\n}\r\n\r\nexport async function getProducts() {\r\n  if (products.length > 0) {\r\n    console.trace(\"products already loaded\")\r\n    return products\r\n  }\r\n  const data = await db()\r\n  products = data.products as Product[]\r\n  return products\r\n}\r\n\r\nexport async function getProduct(id: string) {\r\n  products = await getProducts()\r\n  return products.find((product) => product.id === Number(id))\r\n}\r\n\r\nexport function createSpinner() {\r\n  const spinner = document.createElement(\"div\")\r\n  spinner.classList.add(\"spinner\")\r\n  return spinner\r\n}\r\n","import { Route } from \"./Routes\"\r\nimport { searchHandler, search } from \"../features/search\"\r\nimport { createSpinner } from \"./store\"\r\nimport Nope from \"../pages/Nope\"\r\nimport render from \"./render\"\r\n\r\nexport const main = document.querySelector(\".main\")\r\n\r\nexport default async function Router(navigateEvent?: NavigateEvent) {\r\n  if (shouldNotIntercept(navigateEvent)) {\r\n    console.log(\"shouldNotIntercept\")\r\n    return\r\n  }\r\n\r\n  // Get URL\r\n  const url = navigateEvent ? navigateEvent.destination.url : location.href\r\n  const newURL = new URL(url)\r\n  const path = newURL.pathname\r\n  const nav = document.querySelector(\"nav\")\r\n  const navOpen = nav?.style.display === \"flex\"\r\n  const mediaQuery = window.matchMedia(\"(max-width: 768px)\")\r\n  navOpen && mediaQuery.matches && (nav.style.display = \"none\")\r\n  if (navigateEvent && path === location.pathname) {\r\n    navigateEvent.intercept({\r\n      async handler() {\r\n        alert(\"We're already here! Silly Billy! *honk honk* ðŸ¤¡ (that's you)\")\r\n        navigateEvent.preventDefault()\r\n      },\r\n    })\r\n    return\r\n  }\r\n\r\n  const searchParams = new URLSearchParams(newURL.search)\r\n  const searchValue = searchParams.get(\"search\")\r\n\r\n  // Start Spinner\r\n  const spinner = createSpinner()\r\n  const mainHTML = main?.innerHTML || \"\"\r\n  checkAndReplaceHTML(mainHTML, spinner, 300)\r\n\r\n  // Check for search\r\n  if (searchValue && search instanceof HTMLInputElement) {\r\n    search.value = searchValue\r\n    return searchHandler()\r\n  }\r\n\r\n  // Route\r\n  navigateEvent\r\n    ? navigateEvent.intercept({\r\n        scroll: \"manual\",\r\n        async handler() {\r\n          navigateEvent.signal.onabort = () => {\r\n            if (!main) return\r\n            main.innerHTML = mainHTML || \"\"\r\n          }\r\n\r\n          try {\r\n            await Route(path)\r\n          } catch (error) {\r\n            console.error(\"error\", error)\r\n            if (!main) return\r\n            Nope(\"error\", \"Something went wrong. Super helpful, I know.\")\r\n          }\r\n        },\r\n      })\r\n    : await Route(path)\r\n}\r\n\r\nwindow.navigation.addEventListener(\"navigate\", Router)\r\n\r\nfunction checkAndReplaceHTML(\r\n  mainHTML: string,\r\n  spinner: HTMLElement,\r\n  time: number\r\n) {\r\n  setTimeout(() => {\r\n    if (mainHTML === main?.innerHTML) {\r\n      if (!main) return\r\n      document.title = \"Loading...\"\r\n      const heading = document.createElement(\"h1\")\r\n      heading.textContent = \"Loading...\"\r\n      render({\r\n        component: heading.outerHTML + spinner.outerHTML,\r\n      })\r\n    }\r\n  }, time)\r\n}\r\n\r\nfunction shouldNotIntercept(navigateEvent?: NavigateEvent) {\r\n  if (!navigateEvent) return\r\n  return (\r\n    !navigateEvent.canIntercept ||\r\n    navigateEvent.hashChange ||\r\n    navigateEvent.downloadRequest ||\r\n    navigateEvent.formData\r\n  )\r\n}\r\n","import Nope from \"../pages/Nope\"\r\n\r\nconst imports = {\r\n  home: () => import(\"../pages/Home\"),\r\n  about: () => import(\"../pages/About\"),\r\n  products: () => import(\"../pages/Products\"),\r\n  productpage: () => import(\"../pages/ProductPage\"),\r\n  cart: () => import(\"../pages/Cart\"),\r\n  checkout: () => import(\"../pages/Checkout\"),\r\n  success: () => import(\"../pages/Success\"),\r\n  events: () => import(\"../pages/Events\"),\r\n}\r\n\r\ninterface Route {\r\n  path: string\r\n  component: string\r\n  dynamic?: boolean\r\n}\r\n\r\nconst Routes = [\r\n  { path: \"/\", component: \"home\" },\r\n  { path: \"/about\", component: \"about\" },\r\n  { path: \"/products\", component: \"products\" },\r\n  { path: \"/product\", component: \"productpage\", dynamic: true },\r\n  { path: \"/cart\", component: \"cart\" },\r\n  { path: \"/checkout\", component: \"checkout\" },\r\n  { path: \"/success\", component: \"success\" },\r\n  { path: \"/events\", component: \"events\" },\r\n] as Route[]\r\n\r\nexport async function Route(path: string) {\r\n  const route = Routes.find(\r\n    (route) => route.path.split(\"/\")[1] === path.split(\"/\")[1]\r\n  )\r\n  if (!route) {\r\n    Nope(\"404\", path)\r\n    return\r\n  }\r\n\r\n  const component = await imports[route.component as keyof typeof imports]()\r\n\r\n  if (route.dynamic) {\r\n    const id = path.split(\"/\")[path.split(\"/\").length - 1]\r\n    return component.default(id)\r\n  }\r\n  return component.default()\r\n}\r\n","module.exports = Promise.all([__parcel__import__(\"./\" + require('./helpers/bundle-manifest').resolve(\"h17xF\")), __parcel__import__(\"./\" + require('./helpers/bundle-manifest').resolve(\"ir2Hu\"))]).then(() => parcelRequire('gBDbO'));","module.exports = Promise.all([__parcel__import__(\"./\" + require('./helpers/bundle-manifest').resolve(\"h17xF\")), __parcel__import__(\"./\" + require('./helpers/bundle-manifest').resolve(\"i1cH4\"))]).then(() => parcelRequire('fU7rG'));","module.exports = Promise.all([__parcel__import__(\"./\" + require('./helpers/bundle-manifest').resolve(\"h17xF\")), __parcel__import__(\"./\" + require('./helpers/bundle-manifest').resolve(\"8Gtxs\"))]).then(() => parcelRequire('2Rujx'));","module.exports = Promise.all([__parcel__import__(\"./\" + require('./helpers/bundle-manifest').resolve(\"h17xF\")), __parcel__import__(\"./\" + require('./helpers/bundle-manifest').resolve(\"jNhXN\"))]).then(() => parcelRequire('4Citp'));","module.exports = Promise.all([__parcel__import__(\"./\" + require('./helpers/bundle-manifest').resolve(\"h17xF\")), __parcel__import__(\"./\" + require('./helpers/bundle-manifest').resolve(\"lSbPr\"))]).then(() => parcelRequire('fZaw4'));","module.exports = Promise.all([__parcel__import__(\"./\" + require('./helpers/bundle-manifest').resolve(\"h17xF\")), __parcel__import__(\"./\" + require('./helpers/bundle-manifest').resolve(\"4PfOy\"))]).then(() => parcelRequire('4Pm74'));","module.exports = Promise.all([__parcel__import__(\"./\" + require('./helpers/bundle-manifest').resolve(\"h17xF\")), __parcel__import__(\"./\" + require('./helpers/bundle-manifest').resolve(\"8hHGh\"))]).then(() => parcelRequire('im2dl'));","import render, { buttonFinderAdd } from \"../components/render\"\r\nimport { getProducts } from \"../components/store\"\r\nimport ProductComponent from \"../components/Product\"\r\n\r\nexport const search = document.querySelector(\"#search\") as HTMLInputElement\r\n\r\nexport function searchListener() {\r\n  if (!search) throw new Error(\"No search element found\")\r\n  search.addEventListener(\"input\", searchHandler)\r\n}\r\n\r\nexport async function searchHandler() {\r\n  const products = await getProducts()\r\n  const searchValue = search.value\r\n  document.title = \"Search Page for \" + searchValue\r\n  const filteredProducts = products.filter((product) => {\r\n    return product.title.toLowerCase().includes(searchValue.toLowerCase())\r\n  })\r\n  if (filteredProducts.length === 0) {\r\n    render({ component: `<h1>Products</h1><p>No Products Found</p>` })\r\n  } else {\r\n    const productsHTML = filteredProducts.map(ProductComponent).join(\"\")\r\n    render({\r\n      component: `<h1>Products</h1>${productsHTML}`,\r\n      callback: buttonFinderAdd,\r\n    })\r\n  }\r\n}\r\n","import { Product } from \"../types\"\r\n\r\nexport default function ProductComponent(product: Product) {\r\n  return `\r\n            <div class=\"product\" id=\"${product.id}\">\r\n              <a href=/product/${product.id}>\r\n                <img src=\"${product.thumbnail}\" alt=\"${product.title}\" loading=\"lazy\"/>\r\n              <h2>${product.title}</h2>\r\n              </a>\r\n              <p>${product.description}</p>\r\n              <p>$${product.price}</p>\r\n              <button class=\"add-to-cart\" id=\"${product.id}\">Add to cart</button>\r\n              <a href=\"/\">Back to home</a>\r\n            </div>\r\n            `\r\n}\r\n","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"dsGxY\\\":\\\"index.cdcb5bd9.js\\\",\\\"ir2Hu\\\":\\\"Home.8a68bd93.js\\\",\\\"7yIvH\\\":\\\"diana.9b79cc38.jpg\\\",\\\"h17xF\\\":\\\"Cart.7d5b3e53.js\\\",\\\"i1cH4\\\":\\\"About.4ac16415.js\\\",\\\"8Gtxs\\\":\\\"Products.9ac6b321.js\\\",\\\"jNhXN\\\":\\\"ProductPage.6345e956.js\\\",\\\"lSbPr\\\":\\\"Checkout.674b541d.js\\\",\\\"4DaNn\\\":\\\"stripe.esm.e7a23e28.js\\\",\\\"4PfOy\\\":\\\"Success.37d43f58.js\\\",\\\"8hHGh\\\":\\\"Events.595141ec.js\\\",\\\"fqlD0\\\":\\\"core.2c08853d.js\\\",\\\"7vBbt\\\":\\\"daygrid.5aac371d.js\\\",\\\"kLCmh\\\":\\\"index.714304a2.css\\\"}\"));","import Router from \"./components/Router\"\r\nimport { searchListener } from \"./features/search\"\r\nimport themeListener from \"./features/theme\"\r\nimport updateCart from \"./features/cart\"\r\nimport hamburger from \"./features/hamburger\"\r\n\r\nimport \"./style.css\"\r\n\r\nupdateCart()\r\n\r\nthemeListener()\r\n\r\nsearchListener()\r\n\r\nhamburger()\r\n\r\nRouter()\r\n","const toggleTheme = document.querySelector(\"#toggleTheme\")\r\nconst themeCheck = localStorage.getItem(\"theme\")\r\n\r\nexport default function themeListener() {\r\n  themeCheck\r\n    ? (document.body.className = themeCheck)\r\n    : (document.body.className = \"dark\")\r\n\r\n  // console.log(\"Theme listener loaded, theme is\", themeCheck)\r\n\r\n  toggleTheme?.addEventListener(\"click\", () => {\r\n    const currentTheme = localStorage.getItem(\"theme\") || \"dark\"\r\n    const newTheme =\r\n      currentTheme === \"dark\"\r\n        ? \"purple\"\r\n        : currentTheme === \"purple\"\r\n        ? \"green\"\r\n        : \"dark\"\r\n    localStorage.setItem(\"theme\", newTheme)\r\n    document.body.className = newTheme\r\n  })\r\n}\r\n","export default function hamburger() {\r\n  const hamburgerMenu = document.querySelector(\"#hamburger\") as HTMLElement\r\n  if (!hamburgerMenu) {\r\n    throw new Error(\"Hamburger menu not found\")\r\n  }\r\n\r\n  hamburgerMenu.addEventListener(\"click\", () => {\r\n    const nav = document.querySelector(\"nav\") as HTMLElement\r\n    if (!nav) {\r\n      throw new Error(\"Nav element not found\")\r\n    }\r\n\r\n    const navUL = document.querySelector(\"nav ul\") as HTMLUListElement\r\n    if (!navUL) {\r\n      throw new Error(\"Nav ul element not found\")\r\n    }\r\n    const screenH = window.innerHeight\r\n\r\n    if (nav.style.display === \"flex\") {\r\n      navUL.style.height = \"0px\"\r\n      navUL.style.fontSize = \"initial\"\r\n      setTimeout(() => {\r\n        nav.style.display = \"none\"\r\n      }, 480)\r\n    } else {\r\n      nav.style.display = \"flex\"\r\n      setTimeout(() => {\r\n        navUL.style.height = screenH + \"px\"\r\n        navUL.style.fontSize = \"2rem\"\r\n      })\r\n    }\r\n\r\n    window.addEventListener(\"resize\", () => {\r\n      if (window.innerWidth > 768) {\r\n        nav.style.display = \"flex\"\r\n        navUL.style.height = \"initial\"\r\n        navUL.style.fontSize = \"initial\"\r\n      } else {\r\n        nav.style.display = \"none\"\r\n        navUL.style.height = \"0px\"\r\n        navUL.style.fontSize = \"initial\"\r\n      }\r\n    })\r\n  })\r\n}\r\n"],"names":["$18c11f3350a906ea$export$6503ec6e8aabbaf","$18c11f3350a906ea$export$f7ad0328861e2f03","$18c11f3350a906ea$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$eOHur","parcelRequire","$dc1410702d496f1f$export$2e2bcd8739ae039","prop","document","title","default","component","location","pathname","$1GhVf","$f034656c1c6ff5c1$export$2e2bcd8739ae039","callback","$f034656c1c6ff5c1$var$clickedImage","$f034656c1c6ff5c1$var$oldImage","style","viewTransitionName","$f034656c1c6ff5c1$var$addOldActiveClass","skipTransition","classNames","updateDOM","startViewTransition","updateCallbackDone","Promise","resolve","ready","reject","finished","$f034656c1c6ff5c1$var$transitionHelper","$loKau","main","$6trHI","innerHTML","scrollTop","newImage","querySelector","classList","add","$f034656c1c6ff5c1$var$addNewActiveClass","async","$f034656c1c6ff5c1$export$cc8a2c077702c36e","products","$4zybi","getProducts","Array","from","querySelectorAll","forEach","button","alreadyAdded","addEventListener","e","target","product","find","Number","addToCart","$f034656c1c6ff5c1$export$28a062edf2f82754","$f034656c1c6ff5c1$var$isFancyButton","removeFromCart","element","tagName","parentNode","HTMLAnchorElement","image","$aIKE6","$d726bdfbfe7dbea8$export$e79499a77ba07702","JSON","parse","localStorage","getItem","$d726bdfbfe7dbea8$export$2e2bcd8739ae039","cartCount","cartAmount","innerText","toString","values","map","item","price","quantity","reduce","a","b","toFixed","$d726bdfbfe7dbea8$export$576b6dd9d68b37bc","setItem","stringify","alert","$d726bdfbfe7dbea8$export$afcd3788490386c5","$5a337395b9052bfe$export$2e2bcd8739ae039","cart","cartItems","thumbnail","join","buttonFinderRemove","$9f62b725e8071199$var$products","$9f62b725e8071199$var$db","response","fetch","ok","status","console","error","json","$9f62b725e8071199$export$68a801b7b3c0bfaa","trace","data","$9f62b725e8071199$export$e2005c9600188ac7","$9f62b725e8071199$export$2342b8d835c798ac","spinner","createElement","$c9nz9","$e773eeb4c43845fc$export$f22da7240b7add18","$e773eeb4c43845fc$export$2e2bcd8739ae039","navigateEvent","canIntercept","hashChange","downloadRequest","formData","$e773eeb4c43845fc$var$shouldNotIntercept","log","url","destination","href","newURL","URL","path","nav","navOpen","display","mediaQuery","window","matchMedia","matches","intercept","preventDefault","searchValue","URLSearchParams","search","get","createSpinner","mainHTML","time","setTimeout","heading","textContent","outerHTML","$e773eeb4c43845fc$var$checkAndReplaceHTML","$g2M5J","HTMLInputElement","value","searchHandler","scroll","signal","onabort","Route","navigation","$d165de4694e1e063$var$imports","home","about","productpage","checkout","success","events","$d165de4694e1e063$var$Routes","dynamic","$d165de4694e1e063$export$e7b0ac011bb776c6","route","split","module","exports","all","import","then","$1ce8005e2310b062$export$d76128d007d19019","$1ce8005e2310b062$export$1fb3504cdb9493ae","$1ce8005e2310b062$export$c9a1649f3f80793f","filteredProducts","filter","toLowerCase","includes","productsHTML","$i2Q06","buttonFinderAdd","$bc2538e1600ac322$export$2e2bcd8739ae039","description","register","$d1d26bffd05adb6b$var$toggleTheme","$d1d26bffd05adb6b$var$themeCheck","body","className","currentTheme","newTheme","searchListener","hamburgerMenu","navUL","screenH","innerHeight","height","fontSize","innerWidth"],"version":3,"file":"index.cdcb5bd9.js.map"}