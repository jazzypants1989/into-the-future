{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","src/pages/Nope.ts","src/components/render.ts","src/features/cart.ts","src/pages/Cart.ts","src/components/store.ts","src/components/Router.ts","src/components/Routes.ts","node_modules/@parcel/runtime-js/lib/runtime-fd03351a2faae3ef.js","node_modules/@parcel/runtime-js/lib/runtime-01d085a28c31f7f3.js","node_modules/@parcel/runtime-js/lib/runtime-f3ad405aba58fac8.js","node_modules/@parcel/runtime-js/lib/runtime-998da71027436d52.js","node_modules/@parcel/runtime-js/lib/runtime-9def6464f4c1eadd.js","node_modules/@parcel/runtime-js/lib/runtime-6f5df312da56292e.js","node_modules/@parcel/runtime-js/lib/runtime-12127860bacf528a.js","src/features/search.ts","src/components/Product.ts","node_modules/@parcel/runtime-js/lib/runtime-c9715ca04e04bbd8.js","src/App.ts","src/features/theme.ts","src/features/hamburger.ts"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","import render from \"../components/render\"\r\n\r\nexport default function Nope(id: string, prop?: string | number) {\r\n  document.title = \"404\"\r\n  switch (id) {\r\n    case \"badID\":\r\n      render(\r\n        `<h1>404</h1><h2>Sorry buddy, but I don't think we have a product with id #${prop}.</h2>`\r\n      )\r\n      break\r\n    case \"badFetch\":\r\n      render(\r\n        `<h1>404</h1><h2>Dang, either the server is down or someone misspelled a URL. Whatever it is, it's probably Jesse's fault.</h2>`\r\n      )\r\n      break\r\n    case \"error\":\r\n      render(`<h1>That's Weird!</h1><h4>${prop}</h4>`)\r\n      break\r\n    default:\r\n      render(\r\n        `<h1>404</h1><h2>Huh, you're at ${location.pathname}, but you really shouldn't be... 🤔 </h2>`\r\n      )\r\n  }\r\n}\r\n","import { addToCart, removeFromCart } from \"../features/cart\"\r\nimport { getProducts } from \"./store\"\r\nimport { main } from \"./Router\"\r\nimport Nope from \"../pages/Nope\"\r\n\r\nimport type { Product, FancyButton } from \"../types\"\r\n\r\nexport default function render(component: string) {\r\n  if (!main) throw new Error(\"No main element found\")\r\n  main.innerHTML = component\r\n}\r\n\r\nexport async function buttonFinderAdd() {\r\n  const products = await getProducts()\r\n\r\n  const buttons: FancyButton[] = Array.from(\r\n    document.querySelectorAll(\".add-to-cart\")\r\n  )\r\n  buttons.forEach((button) => {\r\n    if (button.alreadyAdded) return\r\n    button.alreadyAdded = true\r\n    button.addEventListener(\"click\", (e) => {\r\n      const target = e.target as HTMLButtonElement\r\n      const id = target.id\r\n      const product = products.find(\r\n        (product: Product) => product.id === Number(id)\r\n      )\r\n      if (!product) {\r\n        Nope(\"badID\", id)\r\n        return\r\n      }\r\n      addToCart(product)\r\n    })\r\n  })\r\n}\r\n\r\nexport async function buttonFinderRemove() {\r\n  const products = await getProducts()\r\n  const buttons: FancyButton[] = Array.from(\r\n    document.querySelectorAll(\".remove-from-cart\")\r\n  )\r\n  buttons.forEach((button) => {\r\n    if (button.alreadyAdded) return\r\n    button.alreadyAdded = true\r\n    button.addEventListener(\"click\", (e) => {\r\n      const target = e.target as HTMLButtonElement\r\n      const id = target.id\r\n      const product = products.find((product) => product.id === Number(id))\r\n      if (!product) {\r\n        Nope(\"badID\", id)\r\n        return\r\n      }\r\n      removeFromCart(product)\r\n    })\r\n  })\r\n}\r\n","import Cart from \"../pages/Cart\"\r\nimport type { Cart as ICart, CartItem, Product } from \"../types\"\r\n\r\nexport let cart: ICart = JSON.parse(localStorage.getItem(\"cart\") || \"{}\")\r\n\r\nexport default function updateCart() {\r\n  const cartCount = document.querySelector(\"#cart-count\") as HTMLSpanElement\r\n  const cartAmount = document.querySelector(\"#cart-total\") as HTMLSpanElement\r\n  if (!cartCount || !cartAmount) {\r\n    throw new Error(\"No cart count or cart amount found\")\r\n  }\r\n  cartCount.innerText = Object.keys(cart).length.toString()\r\n  cartAmount.innerText =\r\n    \"$\" +\r\n    Object.values(cart)\r\n      .map((item: CartItem) => item.product.price * item.quantity)\r\n      .reduce((a, b) => a + b, 0)\r\n      .toFixed(2)\r\n}\r\n\r\nexport function addToCart(product: Product) {\r\n  if (cart[product.id]) {\r\n    cart[product.id].quantity++\r\n  } else {\r\n    cart[product.id] = {\r\n      quantity: 1,\r\n      product,\r\n    }\r\n  }\r\n  localStorage.setItem(\"cart\", JSON.stringify(cart))\r\n  alert(`${product.title} added to cart!`)\r\n  updateCart()\r\n}\r\n\r\nexport function removeFromCart(product: Product) {\r\n  cart[product.id].quantity--\r\n  if (cart[product.id].quantity === 0) {\r\n    delete cart[product.id]\r\n  }\r\n  localStorage.setItem(\"cart\", JSON.stringify(cart))\r\n  alert(`${product.title} removed from cart!`)\r\n  updateCart()\r\n  Cart()\r\n}\r\n","import { getProducts } from \"../components/store\"\r\nimport render, { buttonFinderRemove } from \"../components/render\"\r\nimport Nope from \"./Nope\"\r\n\r\nexport default async function Cart() {\r\n  const cart = JSON.parse(localStorage.getItem(\"cart\") || \"{}\")\r\n  document.title = \"Cart\"\r\n  const products = await getProducts()\r\n  if (Object.keys(cart).length === 0) {\r\n    render(`\r\n          <h1>Cart</h1>\r\n          <p>Your cart is empty. Go buy some weird stuff!</p>\r\n          `)\r\n  } else {\r\n    const cartItems = Object.keys(cart).map((id) => {\r\n      const product = products.find((product) => product.id === Number(id))\r\n      if (!product) {\r\n        Nope(\"badFetch\", 404)\r\n        return\r\n      }\r\n      return `\r\n            <div class=\"cart-item\">\r\n              <img src=\"${product.thumbnail}\" alt=\"${product.title}\" />\r\n              <h2>${product.title}</h2>\r\n              <p>$${product.price}</p>\r\n              <p>Quantity: ${cart[id].quantity}</p>\r\n              <button class=\"remove-from-cart\" id=\"${product.id}\">Remove from cart</button>\r\n            </div>\r\n            `\r\n    })\r\n    render(`\r\n          <h1>Cart</h1>\r\n          ${cartItems.join(\"\")}\r\n          `)\r\n    buttonFinderRemove()\r\n  }\r\n}\r\n","import Nope from \"../pages/Nope\"\r\nimport { Product } from \"../types\"\r\n\r\nlet products: Product[] = []\r\n\r\nconst db = async () => {\r\n  const response = await fetch(\"https://dummyjson.com/products\")\r\n\r\n  if (!response.ok) {\r\n    alert(\"HTTP-Error: \" + response.status)\r\n    console.error(response)\r\n    return Nope(\"badFetch\", response.status)\r\n  }\r\n\r\n  const data = await response.json()\r\n\r\n  return data\r\n}\r\n\r\nexport async function getProducts() {\r\n  if (products.length > 0) {\r\n    console.trace(\"products already loaded\")\r\n    return products\r\n  }\r\n  const data = await db()\r\n  products = data.products as Product[]\r\n  return products\r\n}\r\n\r\nexport async function getProduct(id: string) {\r\n  products = await getProducts()\r\n  return products.find((product) => product.id === Number(id))\r\n}\r\n\r\nexport function createSpinner() {\r\n  const spinner = document.createElement(\"div\")\r\n  spinner.classList.add(\"spinner\")\r\n  return spinner\r\n}\r\n","import { Route } from \"./Routes\"\r\nimport { searchHandler, search } from \"../features/search\"\r\nimport { createSpinner } from \"./store\"\r\nimport Nope from \"../pages/Nope\"\r\n\r\nexport const main = document.querySelector(\".main\")\r\n\r\nexport default function Router(navigateEvent?: NavigateEvent) {\r\n  if (shouldNotIntercept(navigateEvent)) {\r\n    console.log(\"shouldNotIntercept\")\r\n    return\r\n  }\r\n\r\n  // Get URL\r\n  const url = navigateEvent ? navigateEvent.destination.url : location.href\r\n  const newURL = new URL(url)\r\n  const path = newURL.pathname\r\n  const nav = document.querySelector(\"nav\")\r\n  const navOpen = nav?.style.display === \"flex\"\r\n  const mediaQuery = window.matchMedia(\"(max-width: 768px)\")\r\n  navOpen && mediaQuery.matches && (nav.style.display = \"none\")\r\n  if (navigateEvent && path === location.pathname) {\r\n    navigateEvent.intercept({\r\n      async handler() {\r\n        alert(\"We're already here! Silly Billy! *honk honk* 🤡 (that's you)\")\r\n        navigateEvent.preventDefault()\r\n      },\r\n    })\r\n    return\r\n  }\r\n\r\n  const searchParams = new URLSearchParams(newURL.search)\r\n  const searchValue = searchParams.get(\"search\")\r\n\r\n  // Start Spinner\r\n  const spinner = createSpinner()\r\n  const mainHTML = main?.innerHTML || \"\"\r\n  checkAndReplaceHTML(navigateEvent, mainHTML, spinner, 300)\r\n\r\n  // Check for search\r\n  if (searchValue && search instanceof HTMLInputElement) {\r\n    search.value = searchValue\r\n    return searchHandler()\r\n  }\r\n\r\n  // Route\r\n  navigateEvent\r\n    ? navigateEvent.intercept({\r\n        async handler() {\r\n          navigateEvent.signal.onabort = () => {\r\n            console.log(\"aborted\")\r\n            if (main && mainHTML) {\r\n              main.innerHTML = mainHTML\r\n            }\r\n          }\r\n\r\n          try {\r\n            addOldActiveClass()\r\n            transitionHelper({\r\n              updateDOM: async () => {\r\n                await Route(path)\r\n                addNewActiveClass()\r\n              },\r\n            })\r\n          } catch (error) {\r\n            console.error(\"error\", error)\r\n            Nope(\"error\", (error as Error).message)\r\n          }\r\n        },\r\n      })\r\n    : transitionHelper({\r\n        updateDOM: async () => {\r\n          await Route(path)\r\n        },\r\n      })\r\n}\r\n\r\nwindow.navigation.addEventListener(\"navigate\", Router)\r\n\r\nfunction checkAndReplaceHTML(\r\n  event: NavigateEvent | undefined,\r\n  mainHTML: string,\r\n  spinner: HTMLElement,\r\n  time: number\r\n) {\r\n  if (event && event.destination.url === location.href) return\r\n  if (event && event.formData) return\r\n  setTimeout(() => {\r\n    if (main && mainHTML === main.innerHTML) {\r\n      main.innerHTML = spinner.outerHTML\r\n    }\r\n  }, time)\r\n}\r\n\r\nfunction shouldNotIntercept(navigateEvent?: NavigateEvent) {\r\n  if (!navigateEvent) return\r\n  return (\r\n    !navigateEvent.canIntercept ||\r\n    navigateEvent.hashChange ||\r\n    navigateEvent.downloadRequest ||\r\n    navigateEvent.formData\r\n  )\r\n}\r\n\r\nfunction transitionHelper({\r\n  skipTransition = false,\r\n  classNames = [],\r\n  updateDOM = () => {},\r\n}) {\r\n  if (skipTransition || !document.startViewTransition) {\r\n    const updateCallbackDone = Promise.resolve(updateDOM())\r\n\r\n    return {\r\n      ready: Promise.reject(Error(\"View transitions unsupported\")),\r\n      updateCallbackDone,\r\n      finished: updateCallbackDone,\r\n    }\r\n  }\r\n  const transition = document.startViewTransition(updateDOM)\r\n\r\n  return transition\r\n}\r\n\r\nlet clickedImage = false\r\nlet oldImage = null as HTMLImageElement | null\r\n\r\ndocument.addEventListener(\"click\", (e) => {\r\n  const element = e.target as HTMLElement\r\n  if (\r\n    element.tagName === \"IMG\" ||\r\n    element.parentNode instanceof HTMLAnchorElement\r\n  ) {\r\n    clickedImage = true\r\n    if (element.tagName === \"IMG\") {\r\n      oldImage = element as HTMLImageElement\r\n    } else {\r\n      const image = element.parentNode?.querySelector(\"img\")\r\n      if (image) oldImage = image as HTMLImageElement\r\n    }\r\n  } else {\r\n    clickedImage = false\r\n  }\r\n})\r\n\r\nfunction addOldActiveClass() {\r\n  if (!clickedImage || !oldImage) return\r\n  oldImage.style.viewTransitionName = \"activeImage\"\r\n}\r\n\r\nfunction addNewActiveClass() {\r\n  if (!clickedImage) return\r\n  const newImage = document.querySelector(\"img\")\r\n  if (newImage) {\r\n    newImage.classList.add(\"activeImage\")\r\n    newImage.style.viewTransitionName = \"activeImage\"\r\n  }\r\n}\r\n","import Nope from \"../pages/Nope\"\r\n\r\nconst imports = {\r\n  home: () => import(\"../pages/Home\"),\r\n  about: () => import(\"../pages/About\"),\r\n  products: () => import(\"../pages/Products\"),\r\n  productpage: () => import(\"../pages/ProductPage\"),\r\n  cart: () => import(\"../pages/Cart\"),\r\n  checkout: () => import(\"../pages/Checkout\"),\r\n  success: () => import(\"../pages/Success\"),\r\n  events: () => import(\"../pages/Events\"),\r\n}\r\n\r\ninterface Route {\r\n  path: string\r\n  component: string\r\n  dynamic?: boolean\r\n}\r\n\r\nconst Routes = [\r\n  { path: \"/\", component: \"home\" },\r\n  { path: \"/about\", component: \"about\" },\r\n  { path: \"/products\", component: \"products\" },\r\n  { path: \"/product\", component: \"productpage\", dynamic: true },\r\n  { path: \"/cart\", component: \"cart\" },\r\n  { path: \"/checkout\", component: \"checkout\" },\r\n  { path: \"/success\", component: \"success\" },\r\n  { path: \"/events\", component: \"events\" },\r\n] as Route[]\r\n\r\nexport async function Route(path: string) {\r\n  const route = Routes.find(\r\n    (route) => route.path.split(\"/\")[1] === path.split(\"/\")[1]\r\n  )\r\n  if (!route) {\r\n    Nope(\"404\", path)\r\n    return\r\n  }\r\n\r\n  const component = await imports[route.component as keyof typeof imports]()\r\n\r\n  if (route.dynamic) {\r\n    const id = path.split(\"/\")[path.split(\"/\").length - 1]\r\n    return component.default(id)\r\n  }\r\n  return component.default()\r\n}\r\n","module.exports = Promise.all([__parcel__import__(\"./\" + require('./helpers/bundle-manifest').resolve(\"h17xF\")), __parcel__import__(\"./\" + require('./helpers/bundle-manifest').resolve(\"ir2Hu\"))]).then(() => parcelRequire('gBDbO'));","module.exports = Promise.all([__parcel__import__(\"./\" + require('./helpers/bundle-manifest').resolve(\"h17xF\")), __parcel__import__(\"./\" + require('./helpers/bundle-manifest').resolve(\"i1cH4\"))]).then(() => parcelRequire('fU7rG'));","module.exports = Promise.all([__parcel__import__(\"./\" + require('./helpers/bundle-manifest').resolve(\"h17xF\")), __parcel__import__(\"./\" + require('./helpers/bundle-manifest').resolve(\"8Gtxs\"))]).then(() => parcelRequire('2Rujx'));","module.exports = Promise.all([__parcel__import__(\"./\" + require('./helpers/bundle-manifest').resolve(\"h17xF\")), __parcel__import__(\"./\" + require('./helpers/bundle-manifest').resolve(\"jNhXN\"))]).then(() => parcelRequire('4Citp'));","module.exports = Promise.all([__parcel__import__(\"./\" + require('./helpers/bundle-manifest').resolve(\"h17xF\")), __parcel__import__(\"./\" + require('./helpers/bundle-manifest').resolve(\"lSbPr\"))]).then(() => parcelRequire('fZaw4'));","module.exports = Promise.all([__parcel__import__(\"./\" + require('./helpers/bundle-manifest').resolve(\"h17xF\")), __parcel__import__(\"./\" + require('./helpers/bundle-manifest').resolve(\"4PfOy\"))]).then(() => parcelRequire('4Pm74'));","module.exports = Promise.all([__parcel__import__(\"./\" + require('./helpers/bundle-manifest').resolve(\"h17xF\")), __parcel__import__(\"./\" + require('./helpers/bundle-manifest').resolve(\"8hHGh\"))]).then(() => parcelRequire('im2dl'));","import render, { buttonFinderAdd } from \"../components/render\"\r\nimport { getProducts } from \"../components/store\"\r\nimport ProductComponent from \"../components/Product\"\r\n\r\nexport const search = document.querySelector(\"#search\") as HTMLInputElement\r\n\r\nexport function searchListener() {\r\n  if (!search) throw new Error(\"No search element found\")\r\n  search.addEventListener(\"input\", searchHandler)\r\n}\r\n\r\nexport async function searchHandler() {\r\n  const products = await getProducts()\r\n  const searchValue = search.value\r\n  document.title = \"Search Page for \" + searchValue\r\n  const filteredProducts = products.filter((product) => {\r\n    return product.title.toLowerCase().includes(searchValue.toLowerCase())\r\n  })\r\n  if (filteredProducts.length === 0) {\r\n    render(`<h1>Products</h1><p>No Products Found</p>`)\r\n  } else {\r\n    const productsHTML = filteredProducts.map(ProductComponent).join(\"\")\r\n    render(`<h1>Products</h1>${productsHTML}`)\r\n    buttonFinderAdd()\r\n  }\r\n}\r\n","import { Product } from \"../types\"\r\n\r\nexport default function ProductComponent(product: Product) {\r\n  return `\r\n            <div class=\"product\" id=\"${product.id}\">\r\n              <a href=/product/${product.id}>\r\n                <img src=\"${product.thumbnail}\" alt=\"${product.title}\" loading=\"lazy\"/>\r\n              <h2>${product.title}</h2>\r\n              </a>\r\n              <p>${product.description}</p>\r\n              <p>$${product.price}</p>\r\n              <button class=\"add-to-cart\" id=\"${product.id}\">Add to cart</button>\r\n              <a href=\"/\">Back to home</a>\r\n            </div>\r\n            `\r\n}\r\n","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"dsGxY\\\":\\\"index.6a3726ea.js\\\",\\\"ir2Hu\\\":\\\"Home.6fece4fc.js\\\",\\\"7yIvH\\\":\\\"diana.9b79cc38.jpg\\\",\\\"h17xF\\\":\\\"Cart.981c7fe0.js\\\",\\\"i1cH4\\\":\\\"About.76c4433b.js\\\",\\\"8Gtxs\\\":\\\"Products.7b737bf1.js\\\",\\\"jNhXN\\\":\\\"ProductPage.8db573ec.js\\\",\\\"lSbPr\\\":\\\"Checkout.00024995.js\\\",\\\"4DaNn\\\":\\\"stripe.esm.e7a23e28.js\\\",\\\"4PfOy\\\":\\\"Success.0b815d24.js\\\",\\\"8hHGh\\\":\\\"Events.5c88cac0.js\\\",\\\"fqlD0\\\":\\\"core.2c08853d.js\\\",\\\"7vBbt\\\":\\\"daygrid.5aac371d.js\\\",\\\"kLCmh\\\":\\\"index.90a0f225.css\\\"}\"));","import Router from \"./components/Router\"\r\nimport { searchListener } from \"./features/search\"\r\nimport themeListener from \"./features/theme\"\r\nimport updateCart from \"./features/cart\"\r\nimport hamburger from \"./features/hamburger\"\r\n\r\nimport \"./style.css\"\r\n\r\nupdateCart()\r\n\r\nthemeListener()\r\n\r\nsearchListener()\r\n\r\nhamburger()\r\n\r\nRouter()\r\n","const toggleTheme = document.querySelector(\"#toggleTheme\")\r\nconst themeCheck = localStorage.getItem(\"theme\")\r\n\r\nexport default function themeListener() {\r\n  themeCheck\r\n    ? (document.body.className = themeCheck)\r\n    : (document.body.className = \"dark\")\r\n\r\n  // console.log(\"Theme listener loaded, theme is\", themeCheck)\r\n\r\n  toggleTheme?.addEventListener(\"click\", () => {\r\n    const currentTheme = localStorage.getItem(\"theme\") || \"dark\"\r\n    const newTheme =\r\n      currentTheme === \"dark\"\r\n        ? \"purple\"\r\n        : currentTheme === \"purple\"\r\n        ? \"green\"\r\n        : \"dark\"\r\n    localStorage.setItem(\"theme\", newTheme)\r\n    document.body.className = newTheme\r\n  })\r\n}\r\n","export default function hamburger() {\r\n  const hamburgerMenu = document.querySelector(\"#hamburger\") as HTMLElement\r\n  if (!hamburgerMenu) {\r\n    throw new Error(\"Hamburger menu not found\")\r\n  }\r\n\r\n  hamburgerMenu.addEventListener(\"click\", () => {\r\n    const nav = document.querySelector(\"nav\") as HTMLElement\r\n    if (!nav) {\r\n      throw new Error(\"Nav element not found\")\r\n    }\r\n\r\n    const navUL = document.querySelector(\"nav ul\") as HTMLUListElement\r\n    if (!navUL) {\r\n      throw new Error(\"Nav ul element not found\")\r\n    }\r\n    const screenH = window.innerHeight\r\n\r\n    if (nav.style.display === \"flex\") {\r\n      navUL.style.height = \"0px\"\r\n      navUL.style.fontSize = \"initial\"\r\n      setTimeout(() => {\r\n        nav.style.display = \"none\"\r\n      }, 480)\r\n    } else {\r\n      nav.style.display = \"flex\"\r\n      setTimeout(() => {\r\n        navUL.style.height = screenH + \"px\"\r\n        navUL.style.fontSize = \"2rem\"\r\n      })\r\n    }\r\n\r\n    window.addEventListener(\"resize\", () => {\r\n      if (window.innerWidth > 768) {\r\n        nav.style.display = \"flex\"\r\n        navUL.style.height = \"initial\"\r\n        navUL.style.fontSize = \"initial\"\r\n      } else {\r\n        nav.style.display = \"none\"\r\n        navUL.style.height = \"0px\"\r\n        navUL.style.fontSize = \"initial\"\r\n      }\r\n    })\r\n  })\r\n}\r\n"],"names":["$18c11f3350a906ea$export$6503ec6e8aabbaf","$18c11f3350a906ea$export$f7ad0328861e2f03","$18c11f3350a906ea$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$eOHur","parcelRequire","$dc1410702d496f1f$export$2e2bcd8739ae039","prop","document","title","default","location","pathname","$1GhVf","$f034656c1c6ff5c1$export$2e2bcd8739ae039","component","$loKau","main","innerHTML","async","$f034656c1c6ff5c1$export$cc8a2c077702c36e","products","$4zybi","getProducts","Array","from","querySelectorAll","forEach","button","alreadyAdded","addEventListener","e","target","product","find","Number","addToCart","$6trHI","$f034656c1c6ff5c1$export$28a062edf2f82754","removeFromCart","$aIKE6","$d726bdfbfe7dbea8$export$e79499a77ba07702","JSON","parse","localStorage","getItem","$d726bdfbfe7dbea8$export$2e2bcd8739ae039","cartCount","querySelector","cartAmount","innerText","toString","values","map","item","price","quantity","reduce","a","b","toFixed","$d726bdfbfe7dbea8$export$576b6dd9d68b37bc","setItem","stringify","alert","$d726bdfbfe7dbea8$export$afcd3788490386c5","$5a337395b9052bfe$export$2e2bcd8739ae039","cart","cartItems","thumbnail","join","buttonFinderRemove","$9f62b725e8071199$var$products","$9f62b725e8071199$var$db","response","fetch","ok","status","console","error","json","$9f62b725e8071199$export$68a801b7b3c0bfaa","trace","data","$9f62b725e8071199$export$e2005c9600188ac7","$9f62b725e8071199$export$2342b8d835c798ac","spinner","createElement","classList","add","$c9nz9","$e773eeb4c43845fc$export$f22da7240b7add18","$e773eeb4c43845fc$export$2e2bcd8739ae039","navigateEvent","canIntercept","hashChange","downloadRequest","formData","$e773eeb4c43845fc$var$shouldNotIntercept","log","url","destination","href","newURL","URL","path","nav","navOpen","style","display","mediaQuery","window","matchMedia","matches","intercept","preventDefault","searchValue","URLSearchParams","search","get","createSpinner","mainHTML","event","time","setTimeout","outerHTML","$e773eeb4c43845fc$var$checkAndReplaceHTML","$g2M5J","HTMLInputElement","value","searchHandler","signal","onabort","$e773eeb4c43845fc$var$clickedImage","$e773eeb4c43845fc$var$oldImage","viewTransitionName","$e773eeb4c43845fc$var$addOldActiveClass","$e773eeb4c43845fc$var$transitionHelper","updateDOM","Route","newImage","$e773eeb4c43845fc$var$addNewActiveClass","message","skipTransition","classNames","startViewTransition","updateCallbackDone","Promise","resolve","ready","reject","finished","navigation","element","tagName","parentNode","HTMLAnchorElement","image","$d165de4694e1e063$var$imports","home","about","productpage","checkout","success","events","$d165de4694e1e063$var$Routes","dynamic","$d165de4694e1e063$export$e7b0ac011bb776c6","route","split","module","exports","all","import","then","$1ce8005e2310b062$export$d76128d007d19019","$1ce8005e2310b062$export$1fb3504cdb9493ae","$1ce8005e2310b062$export$c9a1649f3f80793f","filteredProducts","filter","toLowerCase","includes","productsHTML","$i2Q06","buttonFinderAdd","$bc2538e1600ac322$export$2e2bcd8739ae039","description","register","$d1d26bffd05adb6b$var$toggleTheme","$d1d26bffd05adb6b$var$themeCheck","body","className","currentTheme","newTheme","searchListener","hamburgerMenu","navUL","screenH","innerHeight","height","fontSize","innerWidth"],"version":3,"file":"index.6a3726ea.js.map"}